(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"02cf":function(e,t,i){},"133c":function(e,t,i){"use strict";i("7c25")},"1aba":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"material-input__component",class:e.computedClasses},[i("div",{class:{iconClass:e.icon}},[e.icon?i("i",{staticClass:"el-input__icon material-input__icon",class:["el-icon-"+e.icon]}):e._e(),"email"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"email"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"url"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"url"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"number"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,step:e.step,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"number"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"password"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,required:e.required,type:"password"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"tel"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"tel"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"text"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"text"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),i("span",{staticClass:"material-input-bar"}),i("label",{staticClass:"material-label"},[e._t("default")],2)])])},l=[],n=(i("a9e3"),{name:"MdInput",props:{icon:String,name:String,type:{type:String,default:"text"},value:[String,Number],placeholder:String,readonly:Boolean,disabled:Boolean,min:String,max:String,step:String,minlength:Number,maxlength:Number,required:{type:Boolean,default:!0},autoComplete:{type:String,default:"off"},validateEvent:{type:Boolean,default:!0}},data:function(){return{currentValue:this.value,focus:!1,fillPlaceHolder:null}},computed:{computedClasses:function(){return{"material--active":this.focus,"material--disabled":this.disabled,"material--raised":Boolean(this.focus||this.currentValue)}}},watch:{value:function(e){this.currentValue=e}},methods:{handleModelInput:function(e){var t=e.target.value;this.$emit("input",t),"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.change",[t]),this.$emit("change",t)},handleMdFocus:function(e){this.focus=!0,this.$emit("focus",e),this.placeholder&&""!==this.placeholder&&(this.fillPlaceHolder=this.placeholder)},handleMdBlur:function(e){this.focus=!1,this.$emit("blur",e),this.fillPlaceHolder=null,"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.blur",[this.currentValue])}}}),r=n,s=(i("49b7"),i("2877")),o=Object(s["a"])(r,a,l,!1,null,"9d7baaf6",null);t["a"]=o.exports},"2f67":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"dataForm",staticStyle:{"margin-left":"0px"},attrs:{size:"small",rules:e.rules,model:e.temp}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"110px",label:"项目模板名称",prop:"name"}},[e.readOnly?i("el-input",{attrs:{disabled:""},model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}}):i("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"110px",label:"项目类型",prop:"projectType"}},[e.readOnly?i("el-select",{staticClass:"filter-item",attrs:{disabled:"",placeholder:"请选择"},model:{value:e.temp.projectType,callback:function(t){e.$set(e.temp,"projectType",t)},expression:"temp.projectType"}},e._l(e.projectTypeOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):i("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.projectType,callback:function(t){e.$set(e.temp,"projectType",t)},expression:"temp.projectType"}},e._l(e.projectTypeOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"110px",label:"所属组织",prop:"organizationId"}},[e.readOnly?i("el-select",{staticClass:"filter-item",attrs:{disabled:"",placeholder:"请选择"},model:{value:e.temp.organizationId,callback:function(t){e.$set(e.temp,"organizationId",t)},expression:"temp.organizationId"}},e._l(e.organizations,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):i("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.organizationId,callback:function(t){e.$set(e.temp,"organizationId",t)},expression:"temp.organizationId"}},e._l(e.organizations,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"110px",prop:"ddl",label:"描述"}},[e.readOnly?i("el-input",{attrs:{disabled:""},model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}}):i("el-input",{model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"110px"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("el-tooltip",{attrs:{content:"Crud Plugin通过令牌可使用该项目模板",placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("访问令牌 ")],1),e.readOnly?i("el-input",{attrs:{disabled:"",readonly:"",clearable:""},model:{value:e.temp.accessToken,callback:function(t){e.$set(e.temp,"accessToken",t)},expression:"temp.accessToken"}}):i("el-input",{attrs:{readonly:"",clearable:""},model:{value:e.temp.accessToken,callback:function(t){e.$set(e.temp,"accessToken",t)},expression:"temp.accessToken"}},[i("i",{staticClass:"el-icon-refresh-right",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix",title:"刷新令牌"},on:{click:e.refreshAccessToken},slot:"suffix"}),i("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix",title:"删除令牌"},on:{click:function(t){e.temp.accessToken=null}},slot:"suffix"})])],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"110px",prop:"publicFlag"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("el-tooltip",{attrs:{content:"公开的项目模板将在模板市场可见",placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v("是否公开 ")],1),e.readOnly?i("el-select",{staticClass:"filter-item",attrs:{disabled:"",placeholder:"请选择"},model:{value:e.temp.publicFlag,callback:function(t){e.$set(e.temp,"publicFlag",t)},expression:"temp.publicFlag"}},e._l(e.publicFlagOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):i("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.publicFlag,callback:function(t){e.$set(e.temp,"publicFlag",t)},expression:"temp.publicFlag"}},e._l(e.publicFlagOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),i("el-divider"),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.hiddenEditor,expression:"!hiddenEditor"}],staticClass:"split-pane",style:{height:e.height}},[i("split-pane",{attrs:{split:"vertical","min-percent":20,"default-percent":20}},[i("template",{slot:"paneL"},[i("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"flex"}},[i("el-col",{attrs:{span:12}},[i("el-input",{staticClass:"filter-item",staticStyle:{"padding-right":"20px"},attrs:{placeholder:"过滤文件",size:"mini"},nativeOn:{keyup:function(t){return e.handleMenuList(t)}},model:{value:e.fileFilterKeyword,callback:function(t){e.fileFilterKeyword=t},expression:"fileFilterKeyword"}})],1),i("el-col",{attrs:{span:4}},[e.readOnly?e._e():i("el-button",{attrs:{size:"mini",icon:"el-icon-plus"},on:{click:e.fileAdd}})],1),i("el-col",{attrs:{span:4}},[e.readOnly?e._e():i("el-button",{attrs:{size:"mini",icon:"el-icon-minus"},on:{click:e.fileDel}})],1),i("el-col",{attrs:{span:4}})],1),i("el-scrollbar",{staticClass:"myscrollbar"},[i("el-menu",{ref:"templateMenu",on:{select:e.handleSelect}},e._l(e.menuList,(function(t){return i("el-menu-item",{key:t.name,attrs:{index:t.name}},[1==t.type?i("svg-icon",{attrs:{"icon-class":"file"}}):e._e(),2==t.type?i("svg-icon",{attrs:{"icon-class":"code"}}):e._e(),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])],1)})),1)],1)],1),i("template",{slot:"paneR"},[i("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:0}}),e.readOnly?i("el-col",{attrs:{span:12}},[e.currFileTemplate?i("el-input",{staticClass:"curr-path",staticStyle:{"padding-right":"20px"},attrs:{disabled:"",size:"mini"},model:{value:e.currFileTemplate.path,callback:function(t){e.$set(e.currFileTemplate,"path",t)},expression:"currFileTemplate.path"}}):e._e()],1):i("el-col",{attrs:{span:12}},[e.currFileTemplate?i("el-input",{staticClass:"curr-path",staticStyle:{"padding-right":"20px"},attrs:{size:"mini"},model:{value:e.currFileTemplate.path,callback:function(t){e.$set(e.currFileTemplate,"path",t)},expression:"currFileTemplate.path"}}):e._e()],1),e.readOnly?i("el-col",{attrs:{span:6}},[e.currFileTemplate?i("el-input",{staticClass:"curr-name",staticStyle:{"padding-right":"20px"},attrs:{disabled:"",size:"mini"},model:{value:e.currFileTemplate.tempName,callback:function(t){e.$set(e.currFileTemplate,"tempName",t)},expression:"currFileTemplate.tempName"}}):e._e()],1):i("el-col",{attrs:{span:6}},[e.currFileTemplate?i("el-input",{staticClass:"curr-name",staticStyle:{"padding-right":"20px"},attrs:{size:"mini"},model:{value:e.currFileTemplate.tempName,callback:function(t){e.$set(e.currFileTemplate,"tempName",t)},expression:"currFileTemplate.tempName"}}):e._e()],1),e.readOnly?i("el-col",{attrs:{span:3}},[e.currFileTemplate?i("el-select",{staticClass:"curr-type",attrs:{disabled:"",size:"mini",placeholder:"文件模板类型"},model:{value:e.currFileTemplate.type,callback:function(t){e.$set(e.currFileTemplate,"type",t)},expression:"currFileTemplate.type"}},e._l(e.fileTemplateTypeOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1):i("el-col",{attrs:{span:3}},[e.currFileTemplate?i("el-select",{staticClass:"curr-type",attrs:{size:"mini",placeholder:"文件模板类型"},model:{value:e.currFileTemplate.type,callback:function(t){e.$set(e.currFileTemplate,"type",t)},expression:"currFileTemplate.type"}},e._l(e.fileTemplateTypeOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1),i("el-col",{attrs:{span:1}}),i("el-col",{attrs:{span:3}},[i("el-select",{attrs:{size:"mini",filterable:""},on:{change:e.languageChange},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}},e._l(e.languageOption,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),i("div",{staticClass:"container",attrs:{id:e.id}})],1)],2)],1)],1)},l=[],n=(i("b0c0"),i("d81d"),i("a434"),i("4de4"),i("d3b7"),i("caad"),i("2532"),i("7b3f")),r=i("19ab"),s=i.n(r),o=i("c2c6"),c={name:"TemplateEditor",components:{splitPane:s.a},props:{height:{type:String,default:"365px"},id:{type:String,default:"templateEditorContainer"},organizations:{type:Array,default:function(){return[]}},projectTypeOptions:{type:Array,default:function(){return[]}},publicFlagOptions:{type:Array,default:function(){return[]}}},data:function(){return{hiddenEditor:!1,readOnly:!1,monacoEditor:null,themeOption:[{value:"vs",label:"默认"},{value:"hc-black",label:"高亮"},{value:"vs-dark",label:"深色"}],languageOption:[],theme:"vs",language:"plaintext",fileFilterKeyword:"",currFileTemplate:null,menuList:[],fileTemplateTypeOptions:[{value:1,label:"普通模板"},{value:2,label:"代码模板"}],temp:{},rules:{publicFlag:[{required:!0,message:"是否公开必选",trigger:"change"}],projectType:[{required:!0,message:"项目类型必选",trigger:"change"}],organizationId:[{required:!0,message:"所属组织必选",trigger:"change"}],name:[{required:!0,message:"项目模板名称必填",trigger:"blur"}]}}},mounted:function(){this.initEditor()},methods:{getProjectTemplate:function(){return this.temp},setProjectTemplate:function(e,t,i){var a=this;this.$nextTick((function(){a.temp=e,a.$nextTick((function(){a.clearValidate()})),a.fileFilterKeyword="",a.currFileTemplate=null,a.menuList=[],a.language="plaintext",a.setValue(""),a.$refs.templateMenu.activeIndex=null,a.handleMenuList(),a.readOnly=!!t,a.hiddenEditor=!!i,a.monacoEditor.updateOptions({readOnly:a.readOnly})}))},clearValidate:function(){this.$refs.dataForm.clearValidate()},validate:function(e){var t=this;this.$refs.dataForm.validate((function(i){if(i&&t.currFileTemplate){if(t.currFileTemplate.tempName?t.currFileTemplate.path?t.currFileTemplate.type||(alert("类型不能为空"),t.$refs.templateMenu.activeIndex=t.currFileTemplate.name,i=!1):(alert("路径不能为空"),t.$refs.templateMenu.activeIndex=t.currFileTemplate.name,i=!1):(alert("名称不能为空"),t.$refs.templateMenu.activeIndex=t.currFileTemplate.name,i=!1),t.currFileTemplate.tempName)for(var a=0;a<t.temp.fileTemplateList.length;a++)t.temp.fileTemplateList[a]!=t.currFileTemplate&&t.temp.fileTemplateList[a].name==t.currFileTemplate.tempName&&(alert("名称不能重复"),t.$refs.templateMenu.activeIndex=t.currFileTemplate.name,i=!1);i?(t.currFileTemplate.content=t.getValue(),t.currFileTemplate.name=t.currFileTemplate.tempName):document.activeElement.blur()}e(i)}))},refreshAccessToken:function(){var e=this;Object(n["e"])().then((function(t){e.temp.accessToken=t.data}))},fileDel:function(){if(this.currFileTemplate){var e=this.temp.fileTemplateList.map((function(e){return e.name})).indexOf(this.currFileTemplate.name);this.temp.fileTemplateList.splice(e,1),this.fileFilterKeyword="",this.currFileTemplate=null,this.handleMenuList(),this.language="plaintext",this.setValue(""),this.$refs.templateMenu.activeIndex=null}else alert("请选择需要删除的文件")},fileAdd:function(){var e=this;this.validate((function(t){if(t){var i="Unnamed",a=[];e.temp.fileTemplateList&&(a=e.temp.fileTemplateList.map((function(e){return e.name})));var l=i,n=0;while(-1!=a.indexOf(l))l=i+"-"+ ++n;var r={name:l,path:"",content:""};e.temp.fileTemplateList.push(r),e.fileFilterKeyword="",e.handleMenuList(),e.$refs.templateMenu.activeIndex=l,e.handleSelect(l),e.currFileTemplate=r}}))},setValue:function(e){this.monacoEditor.setValue(e)},getValue:function(){return this.monacoEditor.getValue()},handleMenuList:function(){var e=this;this.menuList=this.temp.fileTemplateList.filter((function(t){return e.$set(t,"tempName",t.name),!e.fileFilterKeyword||-1!=t.name.indexOf(e.fileFilterKeyword)}))},handleSelect:function(e){var t,i=this;e&&(null===(t=this.currFileTemplate)||void 0===t?void 0:t.name)!=e&&this.validate((function(t){if(t){var a=i.temp.fileTemplateList.filter((function(t){return t.name==e}))[0];i.currFileTemplate=a,i.setValue(a.content);var l=a.path?a.path.substring(a.path.lastIndexOf(".")+1):"";"yml"==l&&(l="yaml"),i.language=i.languageOption.includes(l)?l:"plaintext",i.languageChange(i.language)}}))},initEditor:function(){var e=this;this.monacoEditor||this.$nextTick((function(){var t=document.getElementById(e.id);e.monacoEditor=o["editor"].create(t,{value:null,theme:e.theme,readOnly:!1,automaticLayout:!0,renderLineHighlight:"all"}),e.languageOption=o["languages"].getLanguages().map((function(e){return e.id}));var i=e.monacoEditor,a=i.getContribution("editor.contrib.messageController");i.onDidAttemptReadOnlyEdit((function(){a.dispose()}))}))},themeChange:function(e){o["editor"].setTheme(e)},languageChange:function(e){o["editor"].setModelLanguage(this.monacoEditor.getModel(),e)}}},u=c,p=(i("d8c8"),i("2877")),d=Object(p["a"])(u,a,l,!1,null,null,null);t["a"]=d.exports},"333d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},l=[],n=(i("a9e3"),i("09f4")),r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[5,10,20,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&Object(n["a"])(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&Object(n["a"])(0,800)}}},s=r,o=(i("ab7b"),i("2877")),c=Object(o["a"])(s,a,l,!1,null,"a6d820d6",null);t["a"]=c.exports},"36e2":function(e,t,i){"use strict";i("ec83")},3872:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"split-pane",style:{height:e.height}},[i("split-pane",{attrs:{split:"vertical","min-percent":20,"default-percent":20}},[i("template",{slot:"paneL"},[i("el-scrollbar",{staticClass:"myscrollbar"},[i("el-tree",{key:e.treeKey,ref:"tree",attrs:{id:"tree",data:e.treeData,"node-key":"path",props:{children:"children"}},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return i("span",{staticClass:"custom-tree-node"},["file"==a.type?i("svg-icon",{attrs:{"icon-class":"file"}}):i("svg-icon",{attrs:{"icon-class":"folder"}}),i("span",[e._v(e._s(a.name))])],1)}}])})],1)],1),i("template",{slot:"paneR"},[i("div",{staticClass:"container",attrs:{id:e.id}})])],2)],1)},l=[],n=(i("d3b7"),i("159b"),i("ac1f"),i("1276"),i("a15b"),i("fb6a"),i("4e82"),i("caad"),i("2532"),i("d81d"),i("19ab")),r=i.n(n),s=i("c2c6"),o={name:"FileExplorer",components:{splitPane:r.a},props:{files:{type:Array,default:function(){return[]}},height:{type:String,default:"365px"},id:{type:String,default:"fileExplorerContainer"}},data:function(){return{treeKey:0,dialogVisible:!1,monacoEditor:null,themeOption:[{value:"vs",label:"默认"},{value:"hc-black",label:"高亮"},{value:"vs-dark",label:"深色"}],languageOption:[],theme:"vs",language:"plaintext",myFiles:[],treeData:[]}},watch:{files:{handler:function(e){this.myFiles=e,this.treeKey++,this.language="plaintext",this.setValue(""),this.handleTreeData()},deep:!0}},mounted:function(){this.initEditor()},methods:{handleNodeClick:function(e){this.handleSelect(e)},setValue:function(e){this.monacoEditor.setValue(e)},getValue:function(){return this.monacoEditor.getValue()},findTreeNode:function(e,t){for(var i=0;i<e.length;i++){var a=e[i];if(a.path==t)return a;if(a.children&&a.children.length>0){var l=this.findTreeNode(a.children,t);if(l)return l}}return null},handleTreeData:function(){var e=this,t=this.myFiles,i=[];t.forEach((function(t){for(var a=t.path.split("/"),l=0;l<a.length;l++){var n=a.slice(0,l+1).join("/");if(!e.findTreeNode(i,n)){var r={name:a[l],path:n};l==a.length-1?(r.type="file",r.content=t.content):r.type="folder";var s=a.slice(0,l).join("/"),o=e.findTreeNode(i,s);o?(o.children||(o.children=[]),o.children.push(r),o.children.sort((function(e,t){return e.type==t.type?0:"file"==e.type?1:-1}))):(i.push(r),i.sort((function(e,t){return e.type==t.type?0:"file"==e.type?1:-1})))}}})),this.treeData=i},handleSelect:function(e){if("file"==e.type){this.setValue(e.content);var t=e.path?e.path.substring(e.path.lastIndexOf(".")+1):"";"yml"==t&&(t="yaml"),this.language=this.languageOption.includes(t)?t:"plaintext",this.languageChange(this.language)}},initEditor:function(){var e=this;this.monacoEditor||this.$nextTick((function(){var t=document.getElementById(e.id);e.monacoEditor=s["editor"].create(t,{value:null,theme:e.theme,readOnly:!0,automaticLayout:!0,renderLineHighlight:"all"}),e.languageOption=s["languages"].getLanguages().map((function(e){return e.id}));var i=e.monacoEditor,a=i.getContribution("editor.contrib.messageController");i.onDidAttemptReadOnlyEdit((function(){a.dispose()}))}))},themeChange:function(e){s["editor"].setTheme(e)},languageChange:function(e){s["editor"].setModelLanguage(this.monacoEditor.getModel(),e)}}},c=o,u=(i("36e2"),i("2877")),p=Object(u["a"])(c,a,l,!1,null,null,null);t["a"]=p.exports},"3cbc":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[i("div",{staticClass:"pan-info"},[i("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),i("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},l=[],n=(i("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),r=n,s=(i("133c"),i("2877")),o=Object(s["a"])(r,a,l,!1,null,"799537af",null);t["a"]=o.exports},"422d":function(e,t,i){},"49b7":function(e,t,i){"use strict";i("6312")},"4a26":function(e,t,i){},5278:function(e,t,i){"use strict";i("02cf")},"5b50":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.fileExplorerVisible?"预览":"项目生成",visible:e.dialogVisible,"close-on-click-modal":!1,width:e.fileExplorerVisible?"85%":"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.fileExplorerVisible,expression:"!fileExplorerVisible"}]},[i("el-steps",{key:e.stepsKey,staticStyle:{"margin-bottom":"20px"},attrs:{active:e.active,simple:""}},[i("el-step",{attrs:{title:"项目参数",icon:"el-icon-edit"}}),2==e.myProjectTemplate.projectType?i("el-step",{attrs:{title:"Maven参数",icon:"el-icon-upload"}}):e._e(),i("el-step",{attrs:{title:"数据参数",icon:"el-icon-picture"}})],1),i("el-carousel",{key:e.carouselKey,ref:"carousel",attrs:{"indicator-position":"none",autoplay:!1,loop:!1,arrow:"never"}},[i("el-carousel-item",[i("el-form",{ref:"projectForm",staticStyle:{width:"400px","margin-left":"10px"},attrs:{"label-position":"left",rules:e.projectRules,model:e.temp,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"projectName:",prop:"projectName"}},[i("el-input",{model:{value:e.temp.projectName,callback:function(t){e.$set(e.temp,"projectName",t)},expression:"temp.projectName"}})],1),i("el-form-item",{attrs:{label:"basePackage:",prop:"basePackage"}},[i("el-input",{model:{value:e.temp.basePackage,callback:function(t){e.$set(e.temp,"basePackage",t)},expression:"temp.basePackage"}})],1)],1)],1),2==e.myProjectTemplate.projectType?i("el-carousel-item",[i("el-form",{ref:"mavenForm",staticStyle:{width:"400px","margin-left":"10px"},attrs:{"label-position":"left",rules:e.mavenRules,model:e.temp.maven,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"groupId:",prop:"groupId"}},[i("el-input",{model:{value:e.temp.maven.groupId,callback:function(t){e.$set(e.temp.maven,"groupId",t)},expression:"temp.maven.groupId"}})],1),i("el-form-item",{attrs:{label:"artifactId:",prop:"artifactId"}},[i("el-input",{model:{value:e.temp.maven.artifactId,callback:function(t){e.$set(e.temp.maven,"artifactId",t)},expression:"temp.maven.artifactId"}})],1),i("el-form-item",{attrs:{label:"version:",prop:"version"}},[i("el-input",{model:{value:e.temp.maven.version,callback:function(t){e.$set(e.temp.maven,"version",t)},expression:"temp.maven.version"}})],1)],1)],1):e._e(),i("el-carousel-item",[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"10px"},attrs:{"label-position":"left",rules:e.dataRules,model:e.temp,"label-width":"120px"}},[i("el-form-item",{attrs:{prop:"ddl"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("el-tooltip",{attrs:{content:"仅支持MySQL",placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v(" DDL: ")],1),i("el-input",{attrs:{type:"textarea",resize:"both",autosize:{minRows:10}},model:{value:e.temp.ddl,callback:function(t){e.$set(e.temp,"ddl",t)},expression:"temp.ddl"}})],1)],1)],1)],1)],1),i("FileExplorer",{directives:[{name:"show",rawName:"v-show",value:e.fileExplorerVisible,expression:"fileExplorerVisible"}],ref:"FileExplorer",attrs:{id:"projectExplorer",files:e.projectData.files,height:"390px"}}),e.fileExplorerVisible?i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.generate}},[e._v(" 下载 ")]),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1):i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active>1,expression:"active > 1"}],on:{click:e.prev}},[e._v(" 上一步 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active<e.stepConfig.stepCount,expression:"active < stepConfig.stepCount"}],on:{click:e.next}},[e._v(" 下一步 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active==e.stepConfig.stepCount,expression:"active == stepConfig.stepCount"}],attrs:{type:"primary"},on:{click:e.generate}},[e._v(" 生成 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active==e.stepConfig.stepCount,expression:"active == stepConfig.stepCount"}],attrs:{type:"primary"},on:{click:e.preview}},[e._v(" 预览 ")]),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)},l=[],n=i("3872"),r=i("24d2"),s={name:"ProjectDialog",components:{FileExplorer:n["a"]},props:{projectTemplate:{type:Object,default:function(){return{}}}},data:function(){return{fileExplorerVisible:!1,projectData:{},myProjectTemplate:{projectType:1},dialogVisible:!1,stepsKey:1,carouselKey:11,stepConfig:{stepCount:3,activeAndName:{1:"project",2:"maven",3:"data"}},projectTypeAndStepConfig:{java:{stepCount:2,activeAndName:{1:"project",2:"data"}},maven:{stepCount:3,activeAndName:{1:"project",2:"maven",3:"data"}}},active:1,temp:{maven:{}},projectRules:{projectName:[{required:!0,message:"projectName必填",trigger:"blur"}],basePackage:[{required:!0,message:"basePackage必填",trigger:"blur"}]},mavenRules:{groupId:[{required:!0,message:"groupId必填",trigger:"blur"}],artifactId:[{required:!0,message:"artifactId必填",trigger:"blur"}],version:[{required:!0,message:"version必填",trigger:"blur"}]},dataRules:{groupId:[{required:!0,message:"groupId必填",trigger:"blur"}],artifactId:[{required:!0,message:"artifactId必填",trigger:"blur"}],version:[{required:!0,message:"version必填",trigger:"blur"}]}}},watch:{projectTemplate:{handler:function(e){var t,i,a;this.myProjectTemplate=e,this.temp={projectName:"demo",basePackage:"com.example.demo",maven:{groupId:"com.example",artifactId:"demo",version:"0.0.1-SNAPSHOT"},dataSource:{},ddl:"CREATE TABLE `demo` (\n  `demo_id` bigint NOT NULL COMMENT '主键ID',\n  `demo_name` varchar(255) DEFAULT NULL COMMENT '名称',\n  `create_time` datetime DEFAULT NULL COMMENT '创建时间',\n  `update_time` datetime DEFAULT NULL COMMENT '修改时间',\n  PRIMARY KEY (`demo_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Demo';"},1==e.projectType?this.stepConfig=this.projectTypeAndStepConfig["java"]:2==e.projectType&&(this.stepConfig=this.projectTypeAndStepConfig["maven"]),this.active=1,this.fileExplorerVisible=!1,this.carouselKey++,this.stepsKey++,null===(t=this.$refs["projectForm"])||void 0===t||t.clearValidate(),null===(i=this.$refs["mavenForm"])||void 0===i||i.clearValidate(),null===(a=this.$refs["dataForm"])||void 0===a||a.clearValidate()},deep:!0}},methods:{preview:function(){var e=this,t=Object.assign({},this.temp);t.ptId=this.myProjectTemplate.id,Object(r["d"])(t).then((function(t){e.projectData=t.data,e.fileExplorerVisible=!0}))},generate:function(){var e=Object.assign({},this.temp);e.ptId=this.myProjectTemplate.id,Object(r["b"])(e)},prev:function(){this.active--,this.$refs.carousel.setActiveItem(this.active-1)},next:function(){var e=this;this.$refs[this.stepConfig.activeAndName[this.active]+"Form"].validate((function(t){t&&(e.active++,e.$refs.carousel.setActiveItem(e.active-1))}))}}},o=s,c=i("2877"),u=Object(c["a"])(o,a,l,!1,null,null,null);t["a"]=u.exports},6312:function(e,t,i){},"6a5e":function(e,t,i){},"7c25":function(e,t,i){},8256:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[i("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},l=[],n=(i("b680"),i("a9e3"),i("ac1f"),i("00b4"),i("d3b7"),i("159b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" upload ")]),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" Click upload ")])],1),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(" Cancel ")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" Confirm ")])],1)],1)}),r=[],s=(i("b64b"),i("d81d"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every((function(t){return e.listObj[t].hasSuccess}))},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map((function(t){return e.listObj[t]}));this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(e,t){for(var i=t.uid,a=Object.keys(this.listObj),l=0,n=a.length;l<n;l++)if(this.listObj[a[l]].uid===i)return this.listObj[a[l]].url=e.files.file,void(this.listObj[a[l]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,i=Object.keys(this.listObj),a=0,l=i.length;a<l;a++)if(this.listObj[i[a]].uid===t)return void delete this.listObj[i[a]]},beforeUpload:function(e){var t=this,i=window.URL||window.webkitURL,a=e.uid;return this.listObj[a]={},new Promise((function(l,n){var r=new Image;r.src=i.createObjectURL(e),r.onload=function(){t.listObj[a]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},l(!0)}))}}}),o=s,c=(i("5278"),i("2877")),u=Object(c["a"])(o,n,r,!1,null,"3dae379b",null),p=u.exports,d=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],m=d,h=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],f=h,g=i("b85c"),v=[];function b(){return window.tinymce}var y=function(e,t){var i=document.getElementById(e),a=t||function(){};if(!i){var l=document.createElement("script");l.src=e,l.id=e,document.body.appendChild(l),v.push(a);var n="onload"in l?r:s;n(l)}function r(t){t.onload=function(){this.onerror=this.onload=null;var e,i=Object(g["a"])(v);try{for(i.s();!(e=i.n()).done;){var a=e.value;a(null,t)}}catch(l){i.e(l)}finally{i.f()}v=null},t.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+e),t)}}function s(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t,i=Object(g["a"])(v);try{for(i.s();!(t=i.n()).done;){var a=t.value;a(null,e)}}catch(l){i.e(l)}finally{i.f()}v=null}}}i&&a&&(b()?a(null,i):v.push(a))},x=y,C="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",k={name:"Tinymce",components:{editorImage:p},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(t.tinymceId).setContent(e||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;x(C,(function(t){t?e.$message.error(t.message):e.initTinymce()}))},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["en"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:f,menubar:this.menubar,plugins:m,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){t.value&&i.setContent(t.value),t.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",(function(){e.hasChange=!0,e.$emit("input",i.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))},convert_urls:!1})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach((function(e){return window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}))}}},w=k,T=(i("e535"),Object(c["a"])(w,a,l,!1,null,"6c71010c",null));t["a"]=T.exports},ab7b:function(e,t,i){"use strict";i("4a26")},b804:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[i("div",{class:e.className,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[i("div",[e._v("sticky")])])],2)])},l=[],n=(i("a9e3"),i("2c3e"),{name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;t<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),r=n,s=i("2877"),o=Object(s["a"])(r,a,l,!1,null,null,null);t["a"]=o.exports},d8c8:function(e,t,i){"use strict";i("422d")},e535:function(e,t,i){"use strict";i("6a5e")},ec83:function(e,t,i){},eea3:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.fileExplorerVisible?"预览":"代码生成",visible:e.dialogVisible,"close-on-click-modal":!1,width:e.fileExplorerVisible?"85%":"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.fileExplorerVisible,expression:"!fileExplorerVisible"}]},[i("el-steps",{key:e.stepsKey,staticStyle:{"margin-bottom":"20px"},attrs:{active:e.active,simple:""}},[i("el-step",{attrs:{title:"项目参数",icon:"el-icon-edit"}}),i("el-step",{attrs:{title:"数据参数",icon:"el-icon-picture"}})],1),i("el-carousel",{key:e.carouselKey,ref:"carousel",attrs:{"indicator-position":"none",autoplay:!1,loop:!1,arrow:"never"}},[i("el-carousel-item",[i("el-form",{ref:"codeForm",staticStyle:{width:"400px","margin-left":"10px"},attrs:{"label-position":"left",rules:e.codeRules,model:e.temp,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"basePackage:",prop:"basePackage"}},[i("el-input",{model:{value:e.temp.basePackage,callback:function(t){e.$set(e.temp,"basePackage",t)},expression:"temp.basePackage"}})],1),i("el-form-item",{attrs:{label:"代码模板:",prop:"nameList"}},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),i("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.temp.nameList,callback:function(t){e.$set(e.temp,"nameList",t)},expression:"temp.nameList"}},e._l(e.nameOptions,(function(t){return i("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)],1)],1),i("el-carousel-item",[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"10px"},attrs:{"label-position":"left",rules:e.dataRules,model:e.temp,"label-width":"120px"}},[i("el-form-item",{attrs:{prop:"ddl"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("el-tooltip",{attrs:{content:"仅支持MySQL",placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),e._v(" DDL: ")],1),i("el-input",{attrs:{type:"textarea",resize:"both",autosize:{minRows:10}},model:{value:e.temp.ddl,callback:function(t){e.$set(e.temp,"ddl",t)},expression:"temp.ddl"}})],1)],1)],1)],1)],1),i("FileExplorer",{directives:[{name:"show",rawName:"v-show",value:e.fileExplorerVisible,expression:"fileExplorerVisible"}],ref:"FileExplorer",attrs:{id:"codeExplorer",files:e.projectData.files,height:"390px"}}),e.fileExplorerVisible?i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.generate}},[e._v(" 下载 ")]),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1):i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active>1,expression:"active > 1"}],on:{click:e.prev}},[e._v(" 上一步 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active<e.stepConfig.stepCount,expression:"active < stepConfig.stepCount"}],on:{click:e.next}},[e._v(" 下一步 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active==e.stepConfig.stepCount,expression:"active == stepConfig.stepCount"}],attrs:{type:"primary"},on:{click:e.generate}},[e._v(" 生成 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.active==e.stepConfig.stepCount,expression:"active == stepConfig.stepCount"}],attrs:{type:"primary"},on:{click:e.preview}},[e._v(" 预览 ")]),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)},l=[],n=i("2909"),r=(i("d81d"),i("4de4"),i("d3b7"),i("b0c0"),i("3872")),s=i("24d2"),o={name:"CodeDialog",components:{FileExplorer:r["a"]},props:{projectTemplate:{type:Object,default:function(){return{}}}},data:function(){return{checkAll:!0,nameOptions:[],isIndeterminate:!1,fileExplorerVisible:!1,projectData:{},myProjectTemplate:null,dialogVisible:!1,stepsKey:1,carouselKey:11,stepConfig:{stepCount:2,activeAndName:{1:"code",2:"data"}},active:1,temp:{},codeRules:{basePackage:[{required:!0,message:"basePackage必填",trigger:"blur"}],nameList:[{required:!0,message:"代码模板必选",trigger:"blur"}]},dataRules:{groupId:[{required:!0,message:"groupId必填",trigger:"blur"}],artifactId:[{required:!0,message:"artifactId必填",trigger:"blur"}],version:[{required:!0,message:"version必填",trigger:"blur"}]}}},watch:{projectTemplate:{handler:function(e){var t,i;this.myProjectTemplate=e,this.nameOptions=Object(n["a"])(e.fileTemplateList).filter((function(e){return 2==e.type})).map((function(e){return e.name})),this.temp={basePackage:"com.example.demo",nameList:this.nameOptions,ddl:"CREATE TABLE `demo` (\n  `demo_id` bigint NOT NULL COMMENT '主键ID',\n  `demo_name` varchar(255) DEFAULT NULL COMMENT '名称',\n  `create_time` datetime DEFAULT NULL COMMENT '创建时间',\n  `update_time` datetime DEFAULT NULL COMMENT '修改时间',\n  PRIMARY KEY (`demo_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Demo';"},this.active=1,this.isIndeterminate=!1,this.checkAll=!0,this.fileExplorerVisible=!1,this.carouselKey++,this.stepsKey++,null===(t=this.$refs["codeForm"])||void 0===t||t.clearValidate(),null===(i=this.$refs["dataForm"])||void 0===i||i.clearValidate()},deep:!0}},methods:{handleCheckAllChange:function(e){this.temp.nameList=e?this.nameOptions:[],this.isIndeterminate=!1},handleCheckedChange:function(e){var t=e.length;this.checkAll=t===this.nameOptions.length,this.isIndeterminate=t>0&&t<this.nameOptions.length},preview:function(){var e=this,t=Object.assign({},this.temp);t.ptId=this.myProjectTemplate.id,Object(s["c"])(t).then((function(t){e.projectData=t.data,e.fileExplorerVisible=!0}))},generate:function(){var e=Object.assign({},this.temp);e.ptId=this.myProjectTemplate.id,Object(s["a"])(e)},prev:function(){this.active--,this.$refs.carousel.setActiveItem(this.active-1)},next:function(){var e=this;this.$refs[this.stepConfig.activeAndName[this.active]+"Form"].validate((function(t){t&&(e.active++,e.$refs.carousel.setActiveItem(e.active-1))}))}}},c=o,u=i("2877"),p=Object(u["a"])(c,a,l,!1,null,null,null);t["a"]=p.exports},f42c:function(e,t,i){"use strict";var a=i("ed08");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(a["b"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}}}]);